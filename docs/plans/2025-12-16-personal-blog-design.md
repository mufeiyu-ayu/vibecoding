# 个人博客项目设计文档

**创建日期**: 2025-12-16
**项目名称**: vibecoding 个人博客
**设计状态**: ✅ 已完成（所有核心设计细节已确定）
**设计风格**: 温柔优雅、现代感、艺术性

## 项目概述

基于 Next.js 16 + React 19 + TypeScript 构建的现代化个人博客，支持技术文章、生活记录、作品展示等多种内容类型。采用本地 Markdown/MDX 文件管理内容，通过 Git 版本控制，静态站点生成方式部署。

## 核心需求

- **博客类型**: 综合博客（技术 + 生活 + 作品）
- **内容管理**: 本地 Markdown/MDX 文件
- **互动功能**: 暂不实现，先专注内容展示
- **首页风格**: 极简着陆页 + 内容在独立 /blog 页面
- **视觉风格**: 温柔优雅风（蓝粉渐变、毛玻璃、流体动画、慢节奏交互）
- **渲染方式**: 纯静态生成（SSG）以获得最佳性能和 SEO
- **色调定位**: 明亮温暖，避免暗黑系，舒适易读

## 技术架构

### 核心技术栈

- **Next.js 16 App Router** - 使用最新的 App Router 和 RSC
- **React 19.2.1** - 最新的 React 版本
- **TypeScript 5** - 类型安全
- **Tailwind CSS v4** - 现代化样式实现
- **Contentlayer 2** - MDX 文件处理，类型安全的内容访问
- **Framer Motion** - 页面过渡和元素动画
- **Shiki** - 代码高亮，支持多种主题

### 项目结构

```
vibecoding/
├── app/
│   ├── page.tsx              # 极简着陆页
│   ├── layout.tsx            # 根布局
│   ├── blog/
│   │   ├── page.tsx          # 博客列表页
│   │   ├── [slug]/page.tsx   # 文章详情页
│   │   └── category/
│   │       └── [name]/page.tsx  # 分类页面
│   ├── about/
│   │   └── page.tsx          # 关于页面
│   └── projects/
│       └── page.tsx          # 作品展示页
├── content/
│   ├── posts/                # 博客文章 MDX 文件
│   │   ├── tech/             # 技术分类
│   │   ├── life/             # 生活分类
│   │   └── work/             # 作品分类
│   └── projects/             # 项目介绍 MDX 文件
├── components/
│   ├── ui/                   # 通用 UI 组件
│   │   ├── Button.tsx
│   │   ├── Card.tsx
│   │   └── ...
│   ├── blog/                 # 博客相关组件
│   │   ├── PostCard.tsx
│   │   ├── TOC.tsx           # 目录组件
│   │   ├── MDXComponents.tsx # MDX 自定义组件
│   │   └── ...
│   ├── layout/               # 布局组件
│   │   ├── Header.tsx
│   │   ├── Footer.tsx
│   │   └── ...
│   └── animations/           # 动画组件
│       ├── PageTransition.tsx
│       ├── FadeIn.tsx
│       └── ...
├── lib/
│   ├── posts.ts             # 文章数据处理
│   └── utils.ts             # 工具函数
├── public/
│   ├── images/              # 静态图片资源
│   └── ...
├── contentlayer.config.ts   # Contentlayer 配置
└── docs/
    └── plans/               # 设计文档目录
```

### 渲染策略

**纯静态生成（SSG）**：
- 构建时生成所有页面的静态 HTML
- 使用 `generateStaticParams` 为所有文章生成路由
- 优点：性能最优、SEO 友好、托管成本低
- 适用场景：内容通过 Git 管理，每次更新都重新部署

## 页面设计

### 1. 首页（着陆页）- `/`

**Hero 区域**：
- 全屏或大幅 Hero Section（视口高度 80-100vh）
- 个人名字/标题，带逐字渐现动画（stagger 效果）
- 一句简短的个人介绍（如："Full-stack Developer | Open Source Enthusiast"）
- **背景效果**：SVG 波浪/流体动画
  - 多层波浪缓慢移动（3-4 层，不同速度和透明度）
  - 使用蓝粉渐变填充
  - 动画循环时长：20-30s，营造流动感
  - 实现方式：SVG path 动画 或 CSS 动画
  - 移动端优化：减少层数或使用静态波浪
- CTA 按钮组：
  - "进入博客" → /blog（主按钮，渐变背景）
  - "查看作品" → /projects（次按钮，透明边框）
  - "关于我" → /about（次按钮，透明边框）
  - 按钮从下方依次淡入（stagger 间隔 150ms）

**特色内容区**：
- 滚动后展示 3-4 个最新/精选文章卡片
- 卡片带悬停效果（毛玻璃、阴影提升）
- "查看更多文章" 按钮引导到 /blog

**导航栏**：
- 固定顶部，毛玻璃背景（backdrop-blur）
- Logo/名字（左侧）
- 导航链接：Blog / Projects / About（中间/右侧）
- **移动端导航**：
  - 汉堡菜单图标（右上角）
  - 点击后从右侧滑出抽屉式菜单（300ms 过渡）
  - 抽屉宽度：80% 或最大 320px
  - 背景：毛玻璃效果 + 半透明
  - 菜单项垂直排列，大按钮易点击
  - 点击遮罩层或关闭按钮可关闭
- 主题切换按钮（当前版本仅浅色模式，深色模式预留）

### 2. 博客列表页 - `/blog`

**顶部区域**：
- 页面标题和简介
- 搜索框（搜索文章标题和内容）
- 分类筛选标签：All / Tech / Life / Work

**文章展示**：
- 响应式网格布局：
  - PC（>1024px）：3 列
  - 平板（768-1024px）：2 列
  - 手机（<768px）：1 列
- 文章卡片内容：
  - 封面图（可选）
  - 标题
  - 摘要（前 150 字）
  - 发布日期
  - 分类标签
  - 阅读时间估算
- 卡片悬停效果：微动画（缩放、发光边框）
- 加载更多：无限滚动或分页

### 3. 文章详情页 - `/blog/[slug]`

**布局**：
- 居中阅读布局，最大宽度 65ch（最佳阅读宽度）
- 左侧：固定目录导航（TOC），高亮当前阅读位置（仅 PC 端显示）
- 主内容区：文章正文

**头部信息**：
- 大标题（h1）
- 发布日期、更新日期（如有）
- 分类标签
- 阅读时间估算
- 封面图（可选，全宽或内嵌）

**正文内容**：
- MDX 渲染，支持自定义组件
- 代码块带语法高亮（Shiki）
- 代码块工具栏：语言标签 + 复制按钮
- 图片优化（Next.js Image 组件）
- 响应式排版

**底部导航**：
- 上一篇/下一篇文章导航
- 分享按钮（Twitter、LinkedIn、复制链接）

**动画**：
- 页面进入/退出的淡入淡出效果
- 目录导航的滑动指示器

### 4. 分类页面 - `/blog/category/[name]`

- 类似博客列表页，但只显示特定分类的文章
- 顶部显示分类名称和描述

### 5. 作品展示页 - `/projects`

**布局**：垂直时间轴展示

**整体设计**：
- 居中的垂直时间线（贯穿页面）
- 项目卡片交替左右排列（PC端）
- 移动端所有卡片居中，时间线在左侧

**时间线样式**：
- 中央垂直线：渐变色（蓝→粉）或柔和的灰色
- 时间节点：圆点或图标，带发光效果
- 响应式：移动端时间线移至左侧，卡片统一右侧

**项目卡片内容**：
- 时间标签（年份/月份）
- 项目截图/封面图（可选）
- 项目名称（h3）
- 简短描述（2-3 句话）
- 技术栈标签（彩色 badges）
- 链接按钮：
  - "访问网站" / "查看 Demo"（外链）
  - "GitHub 仓库"（外链）
  - "了解更多" → 详情页（可选）

**动画效果**：
- 滚动时依次淡入上升
- 时间线进度指示器跟随滚动
- 卡片悬停时轻微放大 + 阴影加深

**数据来源**：
- 从 `content/projects/*.mdx` 读取
- 按日期倒序排列（最新的在顶部）

**项目详情页**（可选）：
- 路由：`/projects/[slug]`
- 类似文章详情页，展示完整的项目介绍
- 包含更多截图、技术细节、开发历程等

### 6. 关于页面 - `/about`

**布局**：简约居中单栏，类似文章阅读体验

**设计规格**：
- 最大宽度：65ch（与文章页一致，最佳阅读宽度）
- 居中对齐，两侧留白
- 内容从上到下自然流动
- 移动端完全响应式

**内容结构**（自上而下）：

1. **开场区域**
   - 个人头像（圆形或圆角方形，中等尺寸）
   - 姓名/昵称（h1）
   - 一句话介绍（副标题）

2. **关于我**（h2）
   - 个人简介段落（2-4 段）
   - 自然的文字叙述，分享背景、兴趣、价值观等

3. **技能栈**（h2）
   - 分类展示：前端 / 后端 / 工具 / 其他
   - 使用彩色标签（badges）或简单列表
   - 不需要进度条，保持简洁

4. **工作经历/教育背景**（h2，可选）
   - 简洁的时间线格式或列表
   - 每项包含：时间、公司/学校、职位/专业、简要描述

5. **联系方式**（h2）
   - Email、GitHub、Twitter/X、LinkedIn 等
   - 图标 + 链接形式
   - 水平排列或垂直列表

**视觉风格**：
- 排版为主，减少装饰元素
- 适当使用渐变色点缀（标题、链接等）
- 头像可以有轻微的悬停效果
- 链接和社交图标有交互反馈

**动画**：
- 页面进入时内容依次淡入（stagger）
- 图标和链接悬停效果

## 视觉设计

### 配色方案（温柔优雅风 - 明亮为主）

**浅色模式（主要模式，第一版重点）**：
- **背景色**：
  - 主背景：纯白 (#ffffff)
  - 次级背景：极浅灰 (#fafafa, #f9f9f9)
  - 卡片背景：白色 (#ffffff)
- **文字色**：
  - 标题：深灰 (#1f2937, gray-800)
  - 正文：中深灰 (#374151, gray-700)
  - 次要文字：中灰 (#6b7280, gray-500)
- **强调色**：蓝色到粉色渐变
  - 主渐变：`linear-gradient(135deg, #3b82f6 0%, #ec4899 100%)`
  - 蓝色起点：#3b82f6 (blue-500)
  - 粉色终点：#ec4899 (pink-500)
  - 应用场景：按钮、链接、标签、边框发光
- **辅助色**：
  - 成功：柔和绿 (#10b981, green-500)
  - 警告：柔和橙 (#f59e0b, amber-500)
  - 信息：柔和蓝 (#3b82f6, blue-500)
- **卡片效果**：
  - 背景：白色
  - 边框：浅灰或透明
  - 阴影：分层柔和阴影
  - 毛玻璃：`backdrop-blur-xl` + 白色半透明 (rgba(255,255,255,0.8))

**深色模式（后期扩展，预留架构）**：
- **背景色**：深蓝紫色调，避免纯黑
  - 主背景：#0f172a (slate-900)
  - 次级背景：#1e293b (slate-800)
- **文字色**：
  - 标题：#f1f5f9 (slate-100)
  - 正文：#e2e8f0 (slate-200)
  - 次要文字：#94a3b8 (slate-400)
- **强调色**：相同的蓝粉渐变，但饱和度略高
- **卡片效果**：深色半透明 + 毛玻璃

**设计元素规范**：
- **毛玻璃效果**：
  - 导航栏：`backdrop-blur-xl` + `bg-white/80`
  - 卡片悬停：`backdrop-blur-lg` + 半透明
- **发光效果**：
  - 按钮悬停：渐变色边框 + 外发光
  - 卡片悬停：淡淡的渐变色阴影
- **圆角**：
  - 按钮：12-16px
  - 卡片：16-24px
  - 头像/图片：12px 或圆形
- **阴影**：
  - 卡片静态：`shadow-sm` 或 `shadow`
  - 卡片悬停：`shadow-lg` 或 `shadow-xl`
  - 分层阴影示例：`0 10px 30px rgba(59, 130, 246, 0.1), 0 1px 3px rgba(0,0,0,0.05)`

### 核心动画效果（Framer Motion）

**整体动画风格**：缓慢优雅，品质感优先

**时长标准**：
- 小型交互（按钮、链接）：500ms
- 中型动画（卡片、模态框）：550ms
- 大型过渡（页面切换、Hero 动画）：600ms
- 背景动画（波浪、装饰）：20-30s 循环
- 缓动函数：`ease-in-out` 或 `cubic-bezier(0.4, 0, 0.2, 1)`

**具体动画规范**：

1. **页面过渡**
   - 路由切换时：淡入淡出 + 轻微向上位移（20px）
   - 持续时间：600ms
   - 缓动函数：ease-in-out
   - 实现：Framer Motion 的 `AnimatePresence` + `motion.div`

2. **Hero 区域动画**
   - **背景波浪**：缓慢循环移动（20-30s）
   - **标题**：逐字渐现效果（stagger）
     - 每个字符间隔：80-100ms
     - 淡入 + 轻微上升
     - 总时长：约 1-2s（取决于字符数）
   - **副标题**：延迟 200ms 后整体淡入（550ms）
   - **CTA 按钮组**：依次从下方淡入
     - stagger 间隔：150ms
     - 单个按钮动画：550ms

3. **卡片进入动画**
   - 触发方式：滚动触发（Intersection Observer）
   - 动画效果：从下方淡入上升
   - stagger 间隔：80-120ms
   - 单个卡片动画：
     - 初始状态：`opacity: 0, y: 30`
     - 最终状态：`opacity: 1, y: 0`
     - 持续时间：550ms
     - 缓动函数：ease-out

4. **悬停交互**
   - **卡片悬停**：
     - 轻微上浮：`translateY(-6px)`
     - 阴影加深：从 `shadow` 到 `shadow-xl`
     - 边框发光：渐变色边框淡入
     - 持续时间：500ms
   - **按钮悬停**：
     - 背景渐变位移动画
     - 轻微缩放：`scale(1.03)`
     - 发光效果淡入
     - 持续时间：500ms
   - **链接悬停**：
     - 下划线从左到右展开
     - 颜色渐变过渡
     - 持续时间：500ms

5. **目录导航（TOC）**
   - 滑动指示器跟随当前阅读位置
   - 平滑过渡：550ms
   - 高亮项颜色渐变：500ms

6. **代码块**
   - 复制按钮淡入：300ms（较快响应）
   - 复制成功反馈：
     - 对勾图标 + "Copied!" 文字
     - 出现：300ms
     - 停留：1500ms
     - 消失：300ms

7. **移动端导航抽屉**
   - 抽屉滑入：从右侧滑出
   - 持续时间：500ms
   - 遮罩淡入：500ms（同步）
   - 菜单项依次淡入：stagger 60ms

8. **滚动动画性能优化**
   - 使用 `transform` 和 `opacity`（GPU 加速）
   - 避免 `width`、`height`、`margin` 等触发重排的属性
   - 使用 `will-change` 提示浏览器优化
   - 移动端减少动画复杂度

### 响应式设计

**断点设计**：
- 手机：< 768px
- 平板：768px - 1024px
- PC：> 1024px

**移动端优先**：
- 所有样式先为移动端设计
- 使用 Tailwind 的响应式前缀（md:, lg:）逐步增强

**具体适配**：
- **导航栏**：移动端使用汉堡菜单 → 侧边抽屉
- **文章列表**：PC 3列 → 平板 2列 → 手机 1列
- **文章详情**：PC 显示侧边目录 → 移动端隐藏或顶部折叠
- **字体大小**：移动端略小，PC 端舒适阅读
- **作品时间轴**：PC 左右交替 → 移动端统一右侧（时间线左侧）
- **Hero 波浪动画**：移动端减少层数或使用静态版本

## 内容管理

### MDX 文件格式

**Front Matter（元数据）**：
```yaml
---
title: "文章标题"
description: "文章摘要"
date: "2025-12-16"
updated: "2025-12-16"  # 可选
category: "tech"  # tech | life | work
tags: ["react", "nextjs", "typescript"]
cover: "/images/cover.jpg"  # 可选
featured: true  # 可选，是否精选
draft: false  # 是否为草稿
---
```

**目录结构**：
```
content/posts/
├── tech/
│   ├── nextjs-blog-setup.mdx
│   └── react-best-practices.mdx
├── life/
│   └── 2024-year-review.mdx
└── work/
    └── portfolio-redesign.mdx
```

### Contentlayer 配置

定义内容 schema，包括：
- Post 类型：定义文章的所有字段
- 自动计算字段：阅读时间、slug、目录（TOC）
- 验证规则：必填字段、日期格式等

## 技术实现要点

### 1. Contentlayer 集成

- 安装 contentlayer 和 next-contentlayer
- 配置 `contentlayer.config.ts` 定义内容模型
- 在 `next.config.ts` 中集成 contentlayer
- 自动生成类型和内容 API

### 2. MDX 自定义组件

创建自定义 MDX 组件映射：
- **标题（h1-h6）**：添加锚点链接，渐变色装饰
- **代码块**：
  - 集成 Shiki 语法高亮
  - 主题：**Rosé Pine Dawn**（温柔优雅的粉色系主题）
  - 代码块工具栏：语言标签 + 复制按钮
  - 行号显示（可选）
  - 代码高亮特定行（可选）
- **图片**：使用 Next.js Image 组件优化，支持点击放大
- **链接**：外链添加图标和 `target="_blank"`，内链使用 Next.js Link
- **引用块**：自定义样式，带左侧渐变色边框
- **表格**：响应式表格，移动端横向滚动
- **代码内联**：柔和的背景色和圆角

### 3. 目录（TOC）生成

- 解析 MDX 内容，提取 h2-h3 标题
- 生成层级目录结构
- 使用 Intersection Observer 追踪当前阅读位置
- 平滑滚动到对应章节

### 4. 搜索功能

初期实现：
- 客户端搜索（Fuse.js）
- 搜索范围：标题、描述、标签

未来扩展：
- Algolia 或其他搜索服务

### 5. 主题切换

**当前版本（v1.0）**：
- 仅实现浅色模式
- 预留主题切换按钮位置（可暂时隐藏）
- 使用 `next-themes` 包管理主题（便于后期扩展）

**后期扩展（v2.0）**：
- 添加完整深色模式
- 支持系统主题检测
- 保存用户偏好到 localStorage
- Tailwind 的 `dark:` 前缀实现深色模式样式

### 6. 性能优化

- 图片优化：使用 Next.js Image 组件
- 字体优化：next/font 自动优化 Google Fonts
- 代码分割：动态导入大型组件（如 Framer Motion）
- 预加载：关键页面预加载
- 缓存策略：静态资源长期缓存

### 7. SEO 优化

- 每个页面生成完整的 metadata
- Open Graph 标签（社交媒体分享）
- JSON-LD 结构化数据（文章、面包屑）
- sitemap.xml 和 robots.txt 自动生成
- RSS feed（可选）

## 后续功能扩展（预留）

以下功能暂不实现，但架构上预留扩展空间：

1. **深色模式**：完整的深色主题实现（v2.0 计划）
2. **评论系统**：Giscus（基于 GitHub Discussions）
3. **浏览统计**：Google Analytics 或自建
4. **阅读进度条**：顶部固定进度条（可选功能）
5. **点赞/收藏**：需要后端支持或第三方服务
6. **文章系列**：将相关文章组织成系列
7. **国际化（i18n）**：支持多语言
8. **全文搜索**：Algolia 或 Elasticsearch
9. **订阅功能**：RSS + Email Newsletter

## 开发计划

### 第一阶段：基础框架（核心功能）
1. 设置 Contentlayer 和 MDX 支持
2. 配置 Shiki 代码高亮（Rosé Pine Dawn 主题）
3. 实现基础路由和页面结构
4. 创建核心 UI 组件（Button, Card, Header, Footer）
5. 实现着陆页（不含波浪动画）和博客列表页
6. 实现文章详情页（基础版，无 TOC）

### 第二阶段：内容增强与交互
1. 实现 MDX 自定义组件（链接、图片、引用等）
2. 目录（TOC）生成和导航
3. 搜索功能（客户端 Fuse.js）
4. 分类和标签页面
5. 作品展示页（时间轴布局）
6. 关于页面

### 第三阶段：视觉和动画
1. 实现完整的配色方案（蓝粉渐变）
2. 集成 Framer Motion
3. 实现页面过渡动画（600ms 慢节奏）
4. Hero 区域波浪/流体背景动画
5. 卡片和元素的进入/悬停动画
6. 移动端侧边抽屉导航
7. 细节打磨和响应式优化

### 第四阶段：SEO 和部署
1. SEO 优化（metadata, Open Graph, JSON-LD）
2. 性能优化（图片、字体、代码分割）
3. 部署到 Vercel 或其他平台
4. 配置自定义域名
5. 测试和调优

## 设计决策总结

以下是所有关键设计决策的最终确定：

✅ **渐变色方案**：蓝色到粉色 (#3b82f6 → #ec4899)
✅ **Hero 背景**：SVG 波浪/流体动画（多层，20-30s 循环）
✅ **阅读进度条**：不需要，保持界面简洁
✅ **作品展示页**：垂直时间轴布局，左右交替（PC）
✅ **关于页面**：简约居中单栏，类似文章阅读体验
✅ **动画时长**：缓慢优雅（500-600ms）
✅ **移动端导航**：侧边抽屉（从右侧滑出）
✅ **代码主题**：Rosé Pine Dawn（温柔粉色系）
✅ **深色模式**：先做浅色，深色后期添加

## 技术栈版本

- Next.js: 16.0.10
- React: 19.2.1
- TypeScript: 5.x
- Tailwind CSS: 4.x
- Contentlayer: 2.x（待安装）
- Framer Motion: 最新版（待安装）
- Shiki: 最新版（待安装）
- next-themes: 最新版（待安装）
- Fuse.js: 最新版（待安装）

## 参考资源

- [Contentlayer 文档](https://contentlayer.dev/)
- [Framer Motion 文档](https://www.framer.com/motion/)
- [Shiki 文档](https://shiki.matsu.io/)
- [Rosé Pine 主题](https://rosepinetheme.com/)
- [Tailwind CSS v4 文档](https://tailwindcss.com/)
- [Next.js 16 文档](https://nextjs.org/docs)

---

**文档版本**: v1.0
**最后更新**: 2025-12-16
**状态**: ✅ 设计完成 - 已确定所有核心细节，准备进入开发阶段
